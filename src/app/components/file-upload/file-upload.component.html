<div class="wedding-container">
  <div class="header">
    <h1>Marinela & Renato</h1>
    <h2>Kolekcija Vjenčanih Fotografija</h2>
    <p class="date">12. kolovoza 2025.</p>
  </div>

  <div class="message">
    <p>
      Hvala što ste s nama proslavili naš poseban dan! Voljeli bismo vidjeti
      trenutke koje ste zabilježili.
    </p>
    <p>
      Molimo učitajte svoje fotografije kako biste ih dodali u naš vjenčani
      album.
    </p>
  </div>

  <div class="upload-area">
    @if (!uploading() && !uploadSuccess()) {
      <div class="upload-prompt">
        <div class="icon-container">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="camera-icon"
          >
            <path
              d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"
            ></path>
            <circle cx="12" cy="13" r="4"></circle>
          </svg>
        </div>
        <input
          type="file"
          id="fileInput"
          (change)="onFileSelected($event)"
          accept="image/*"
          multiple
        />
        <label for="fileInput" class="select-button">
          Odaberite Fotografije
        </label>
      </div>
    }
    <div class="container">
      @for (file of files(); track file.id) {
        <app-preview-img [file]="file" (remove)="removePhotoFile(file.id)" />
      }
    </div>
    @if (files().length > 0 && !uploadSuccess()) {
      <button (click)="uploadFiles()" [disabled]="uploading()">Prenesi</button>
    }
    @if (uploading()) {
      <div class="upload-status">
        <p>Učitavanje</p>
      </div>
    }
    @if (uploadSuccess()) {
      <div class="success-message">
        <div class="success-icon">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
            <polyline points="22 4 12 14.01 9 11.01"></polyline>
          </svg>
        </div>
        <h3>Hvala Vam!</h3>
        <p>Vaša fotografija je dodana u našu vjenčanu kolekciju</p>
        <button class="upload-more-btn" (click)="resetForm()">
          Učitajte Još Jednu Fotografiju
        </button>
      </div>
    }
    @if (errorMessage(); as errMsg) {
      <div class="error-message">
        <p>{{ errMsg }}</p>
        <button class="try-again-btn" (click)="resetForm()">
          Pokušajte Ponovno
        </button>
      </div>
    }
  </div>

  <div class="footer">
    <p>S ljubavlju, Marinela & Renato</p>
    <p class="small">
      Fotografije će biti pregledane prije nego što budu dodane u naš konačni
      album
    </p>
  </div>
</div>
